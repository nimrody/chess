function draw_canvas() {      
    var canvas = Raphael("canvas", 600, 420);

    var circle = canvas.circle(50, 40, 10);
    circle.attr("fill", "#f00");
    circle.attr("stroke", "#fff");

    var bstyle = "opacity: 1; fill: rgb(64, 64, 64); fill-opacity: 1; fill-rule: nonzero; stroke: rgb(145, 145, 145); stroke-width: 5; stroke-linecap: round; stroke-linejoin: round; stroke-miterlimit: 4; stroke-dasharray: none; stroke-dashoffset: 0pt; stroke-opacity: 1;"
        var wstyle = "opacity:1;fill:#bababa;fill-opacity:1;fill-rule:nonzero;stroke:#dedede;stroke-width:5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1";

    var p = canvas.path({stroke: "#036"}).moveTo(10, 10).andClose();
    var c = canvas.path({stroke: "#036"});
       
    var wpawn ="M 180.01563,79.906825 C 170.90762,79.906825 163.51562,87.298825 163.51562,96.406825 C 163.51562,102.96328 167.34695,108.58985 172.89063,111.25058 C 172.46695,149.02276 155.04687,124.25971 155.04687,144.56308 L 155.01562,150.53183 L 204.98438,150.53183 L 204.95313,144.56308 C 204.95313,124.25975 187.56438,149.02243 187.14063,111.25058 C 192.67052,108.58472 196.51563,102.95321 196.51563,96.406825 C 196.51563,87.298825 189.12363,79.906825 180.01563,79.906825 z ";
    var wrook   = "M 122.28835,46.4375 L 122.3196,52.4375 C 122.3196,82.63614 123.0779,107.3422 147.25709,121.30207 C 171.78325,107.14188 172.22584,83.5788 172.22584,52.4375 L 172.22584,46.4375 L 163.60084,46.4375 L 163.60084,54.84007 L 151.60084,54.84007 L 151.60084,46.4375 L 142.94459,46.4375 L 142.94459,54.84007 L 130.91335,54.84007 L 130.91335,46.4375 L 122.28835,46.4375 z "
    var wknight = "M 213.18227,65.21189 L 195.93227,81.33689 L 204.18227,90.83689 L 222.43227,84.58689 C 222.43227,84.58689 212.23368,90.28548 203.43227,99.08689 C 194.55124,107.96792 196.37897,124.76582 199.56095,131.83689 L 249.18227,131.83689 C 229.68227,107.83689 265.87264,84.25027 252.93227,61.83689 C 240.33234,40.01315 220.0502,43.39299 207.81044,59.46479 C 209.67754,61.33189 211.45587,63.48549 213.18227,65.21189 z ";
    var wbishop = "M 301.40625,46.4375 L 280.03125,64.1875 L 287.90625,86.78125 C 283.81111,90.47127 281.21875,95.80724 281.21875,101.75 C 281.21875,108.59041 284.65986,114.64059 289.875,118.28125 C 282.33354,118.91733 277.15625,120.1414 277.15625,121.5625 C 277.15625,123.2381 284.31251,124.61345 294.125,125.09375 C 292.45077,145.71238 276.40625,128.80123 276.40625,148.28125 L 276.40625,154.25 L 326.34375,154.25 L 326.34375,148.28125 C 326.34375,128.80773 310.30823,145.66256 308.625,125.09375 C 318.45364,124.61494 325.65625,123.23988 325.65625,121.5625 C 325.65625,120.1414 320.44771,118.91733 312.90625,118.28125 C 318.13297,114.64468 321.53125,108.59863 321.53125,101.75 C 321.53125,95.82301 318.98247,90.50148 314.90625,86.8125 L 322.78125,64.1875 L 301.40625,46.4375 z M 301.375,59.875 C 301.99825,59.875 302.5,60.37675 302.5,61 L 302.5,66.4375 L 308.15625,66.4375 C 308.7795,66.4375 309.28125,66.85563 309.28125,67.375 C 309.28125,67.89438 308.7795,68.3125 308.15625,68.3125 L 302.5,68.3125 L 302.5,77.75 C 302.5,78.37325 301.99825,78.875 301.375,78.875 C 300.75175,78.875 300.25,78.37325 300.25,77.75 L 300.25,68.3125 L 294.59375,68.3125 C 293.9705,68.3125 293.46875,67.89438 293.46875,67.375 C 293.46875,66.85563 293.9705,66.4375 294.59375,66.4375 L 300.25,66.4375 L 300.25,61 C 300.25,60.37675 300.75175,59.875 301.375,59.875 z ";
    var wqueen = "M 378.42367,46.4375 L 373.07992,66.28125 L 362.42367,59 L 361.17367,75.71875 L 350.95492,74.03125 L 361.36117,98.1875 L 361.73617,98.1875 C 359.56222,101.4046 358.26742,105.29613 358.26742,109.46875 C 358.26743,116.62489 362.0162,122.86388 367.64242,126.4375 C 359.54286,127.05246 353.92366,128.33154 353.92367,129.8125 C 353.92367,131.4988 361.18936,132.8957 371.14242,133.375 C 369.29106,155.3638 353.45492,158.04561 353.45492,168.6875 L 353.45492,174.65625 L 403.39242,174.65625 L 403.36117,168.6875 C 403.36118,158.94586 387.53383,155.76356 385.70492,133.375 C 395.66615,132.89645 402.95491,131.4997 402.95492,129.8125 C 402.95492,128.33154 397.33573,127.05246 389.23617,126.4375 C 394.85347,122.86443 398.57992,116.61742 398.57992,109.46875 C 398.57992,105.29613 397.31637,101.4046 395.14242,98.1875 L 395.51742,98.1875 L 405.92367,74.03125 L 395.70492,75.71875 L 394.42367,59 L 383.76742,66.28125 L 378.42367,46.4375 z ";
    var wking =  "M 452.53128,46.4375 L 452.53128,57.3125 L 439.12503,57.3125 L 439.12503,64.5625 L 452.53128,64.5625 L 452.53128,77.9375 L 434.43753,87.22367 L 440.93753,102.5625 C 437.47008,106.18321 435.34378,111.09423 435.34378,116.5 C 435.34379,124.00033 439.44838,130.5316 445.53128,134 C 436.83527,134.81534 430.75003,136.66596 430.75003,138.8125 C 430.75003,141.1369 437.88863,143.08896 447.75003,143.78125 C 444.60114,162.06426 430.53128,164.77694 430.53128,183.03125 L 430.53128,189 L 480.46878,189 L 480.43753,183.03125 C 480.43754,164.62878 466.15027,163.43737 463.15628,143.78125 C 473.06664,143.09496 480.25003,141.14431 480.25003,138.8125 C 480.25003,136.66336 474.15043,134.81383 465.43753,134 C 471.53325,130.53687 475.65628,124.00934 475.65628,116.5 C 475.65628,111.34731 473.71547,106.65842 470.53128,103.09375 L 477.56253,87.22367 L 459.46878,77.9375 L 459.46878,64.5625 L 472.87503,64.5625 L 472.87503,57.3125 L 459.46878,57.3125 L 459.46878,46.4375 L 452.53128,46.4375 z ";
    var bpawn =  "M 455.46877,215.375 C 464.57678,215.375 471.96878,222.767 471.96878,231.875 C 471.96878,238.43145 468.13745,244.05802 462.59377,246.71875 C 463.01745,284.49093 480.43753,259.72788 480.43753,280.03125 L 480.46878,286 L 430.50002,286 L 430.53127,280.03125 C 430.53127,259.72792 447.92002,284.4906 448.34377,246.71875 C 442.81388,244.05289 438.96877,238.42138 438.96877,231.875 C 438.96877,222.767 446.36077,215.375 455.46877,215.375 z "
    var brook =  "M 412.89242,211.13543 L 412.86117,217.13543 C 412.86117,247.33407 412.10287,272.04013 387.92368,286 C 363.39752,271.83981 362.95493,248.27673 362.95493,217.13543 L 362.95493,211.13543 L 371.57993,211.13543 L 371.57993,219.538 L 383.57993,219.538 L 383.57993,211.13543 L 392.23618,211.13543 L 392.23618,219.538 L 404.26742,219.538 L 404.26742,211.13543 L 412.89242,211.13543 z " ;
    var bknight= "M 321.9985,219.375 L 339.2485,235.5 L 330.9985,245 L 312.7485,238.75 C 312.7485,238.75 322.94709,244.44859 331.7485,253.25 C 340.62953,262.13103 338.8018,278.92893 335.61982,286 L 285.9985,286 C 305.4985,262 269.30813,238.41338 282.2485,216 C 294.84843,194.17626 315.13057,197.5561 327.37033,213.6279 C 325.50323,215.495 323.7249,217.6486 321.9985,219.375 z ";
    var bbishop ="M 233.77452,178.1875 L 255.14952,195.9375 L 247.27452,218.53125 C 251.36966,222.22127 253.96202,227.55724 253.96202,233.5 C 253.96202,240.34041 250.52091,246.39059 245.30577,250.03125 C 252.84723,250.66733 258.02452,251.8914 258.02452,253.3125 C 258.02452,254.9881 250.86826,256.36345 241.05577,256.84375 C 242.73,277.46238 258.77452,260.55123 258.77452,280.03125 L 258.77452,286 L 208.83702,286 L 208.83702,280.03125 C 208.83702,260.55773 224.87254,277.41256 226.55577,256.84375 C 216.72713,256.36494 209.52452,254.98988 209.52452,253.3125 C 209.52452,251.8914 214.73306,250.66733 222.27452,250.03125 C 217.0478,246.39468 213.64952,240.34863 213.64952,233.5 C 213.64952,227.57301 216.1983,222.25148 220.27452,218.5625 L 212.39952,195.9375 L 233.77452,178.1875 z M 233.80577,191.625 C 233.18252,191.625 232.68077,192.12675 232.68077,192.75 L 232.68077,198.1875 L 227.02452,198.1875 C 226.40127,198.1875 225.89952,198.60563 225.89952,199.125 C 225.89952,199.64438 226.40127,200.0625 227.02452,200.0625 L 232.68077,200.0625 L 232.68077,209.5 C 232.68077,210.12325 233.18252,210.625 233.80577,210.625 C 234.42902,210.625 234.93077,210.12325 234.93077,209.5 L 234.93077,200.0625 L 240.58702,200.0625 C 241.21027,200.0625 241.71202,199.64438 241.71202,199.125 C 241.71202,198.60563 241.21027,198.1875 240.58702,198.1875 L 234.93077,198.1875 L 234.93077,192.75 C 234.93077,192.12675 234.42902,191.625 233.80577,191.625 z ";
    var bqueen = "M 156.7571,157.78125 L 162.10085,177.625 L 172.7571,170.34375 L 174.0071,187.0625 L 184.22585,185.375 L 173.8196,209.53125 L 173.4446,209.53125 C 175.61855,212.74835 176.91335,216.63988 176.91335,220.8125 C 176.91334,227.96864 173.16457,234.20763 167.53835,237.78125 C 175.63791,238.39621 181.25711,239.67529 181.2571,241.15625 C 181.2571,242.84255 173.99141,244.23945 164.03835,244.71875 C 165.88971,266.70755 181.72585,269.38936 181.72585,280.03125 L 181.72585,286 L 131.78835,286 L 131.8196,280.03125 C 131.81959,270.28961 147.64694,267.10731 149.47585,244.71875 C 139.51462,244.2402 132.22586,242.84345 132.22585,241.15625 C 132.22585,239.67529 137.84504,238.39621 145.9446,237.78125 C 140.3273,234.20818 136.60085,227.96117 136.60085,220.8125 C 136.60085,216.63988 137.8644,212.74835 140.03835,209.53125 L 139.66335,209.53125 L 129.2571,185.375 L 139.47585,187.0625 L 140.7571,170.34375 L 151.41335,177.625 L 156.7571,157.78125 z ";
    var bking =  "M 82.64949,143.4375 L 82.64949,154.3125 L 96.05574,154.3125 L 96.05574,161.5625 L 82.64949,161.5625 L 82.64949,174.9375 L 100.74324,184.22366 L 94.24324,199.5625 C 97.71069,203.18321 99.83699,208.09423 99.83699,213.5 C 99.83698,221.00033 95.73239,227.5316 89.64949,231 C 98.3455,231.81534 104.43074,233.66596 104.43074,235.8125 C 104.43074,238.1369 97.29214,240.08896 87.43074,240.78125 C 90.57963,259.06426 104.64949,261.77694 104.64949,280.03125 L 104.64949,286 L 54.71199,286 L 54.74324,280.03125 C 54.74323,261.62878 69.0305,260.43737 72.02449,240.78125 C 62.11413,240.09496 54.93074,238.14431 54.93074,235.8125 C 54.93074,233.66336 61.03034,231.81383 69.74324,231 C 63.64752,227.53687 59.52449,221.00934 59.52449,213.5 C 59.52449,208.34731 61.4653,203.65842 64.64949,200.09375 L 57.61824,184.22366 L 75.71199,174.9375 L 75.71199,161.5625 L 62.30574,161.5625 L 62.30574,154.3125 L 75.71199,154.3125 L 75.71199,143.4375 L 82.64949,143.4375 z ";

    c.attr({path: wpawn, style: bstyle});


}

function draw_board()
{
    var canvas = document.getElementById("canvas");
    var ctx = canvas.getContext("2d");

    var i,j;
      
    var dx = 50, dy = 50;

    var white = "rgb(150, 150, 150)";
    var black = "rgb(0, 0, 0)";

    for(i=0; i<8; i++) {
        for(j=0; j<8; j++) {
            ctx.fillStyle = (i+j+1)%2 ? white : black;
            ctx.fillRect (i*dx, j*dy, dx, dy);

        }
    }

}
